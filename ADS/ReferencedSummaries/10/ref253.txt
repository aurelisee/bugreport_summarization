In order to fix bug 334206 and provide input to the compare editor we need to at least provide two rest operationsï¼Œand for modified files the response (json object) should contain a link to the diff. There is a bug open in jgit to provide a nicer api for diff than using the low-level internals, and we shouldn't have to use the decorating classes directly, just how they use treewalk s and dircacheentry s getrawmode to get the different statuses. It seems using diff working via rest api can solve the problem. Tomasz provide a solution that can remove this bug but there is another bug appear. Using the diff and the index as input to generate a mapper can either generate the file in the working tree or get the file content by the file rest apis.